{% extends "base.html" %}

{% block title %}Playlist{% endblock %}

{% block navitems %}
<li class="nav-item" style="list-style-type: none; display: inline; padding-right: 20px;">
    <a class="nav-link" href="{{ url_for('logout') }}" style="display: inline;">Logout</a>
</li>
{% endblock %}

{% block content %}
<div class="my-4">
    <h2>Playlist: {{ playlist.name }}</h2>
    <button class="btn btn-secondary" onclick="window.location.href='{{ url_for('playlists') }}'">Back</button>
    <button class="btn btn-danger ml-5" onclick="window.location.href='{{ url_for('delete_playlist', playlist_id=playlist.id) }}'">Delete Playlist</button>
    <hr>
    <div class="list-group">
        {% for song in songs %}
        <div class="list-group-item list-group-item-action d-flex justify-content-between align-items-center">
            <div>
                <h5 class="mb-1">{{ song.title }}</h5>
                <p class="mb-1">Artist: {{ song.artist_name }}</p>
                <small>Genre: {{ song.genre }}, Release Date: {{ song.release_date.strftime('%Y-%m-%d') }}</small>
            </div>
            <button class="btn btn-warning btn-sm" onclick="window.location.href='{{ url_for('delete_song_from_playlist', playlist_id=playlist.id, song_id=song.id) }}'">Remove from Playlist</button>
        </div>
        {% else %}
        <p>No songs in this playlist.</p>
        <button class="btn btn-primary w-25" onclick="window.location.href='{{ url_for('search') }}'">Search for Songs to add</button>
        {% endfor %}
    </div>
</div>
{% endblock %}

{% block scripts %}
<script>
</script>
{% endblock %}

